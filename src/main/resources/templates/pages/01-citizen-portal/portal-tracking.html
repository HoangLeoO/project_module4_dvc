<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tra cứu Hồ sơ - Cổng Dịch vụ công</title>
    <!-- Core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/portal.css">
    <style>
        .timeline-item {
            position: relative;
            padding-bottom: 2rem;
            padding-left: 20px;
        }

        .timeline-item:last-child {
            padding-bottom: 0;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 4px;
            bottom: -5px;
            width: 2px;
            background-color: #e9ecef;
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-item.active::before,
        .timeline-item.completed::before {
            background-color: var(--bs-success) !important;
        }

        .timeline-dot {
            position: absolute;
            left: 0;
            top: 4px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #e9ecef;
            border: 2px solid #fff;
            box-shadow: 0 0 0 1px #dee2e6;
            z-index: 1;
        }

        .timeline-item.active .timeline-dot {
            background-color: var(--bs-primary);
            box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.2);
        }

        .timeline-item.completed .timeline-dot {
            background-color: var(--bs-success);
            box-shadow: 0 0 0 4px rgba(25, 135, 84, 0.15);
        }
    </style>
</head>

<body class="bg-light d-flex flex-column min-vh-100">

    <!-- 1. HEADER (Solid style for sub-pages) -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm-soft py-3 bg-gradient-primary">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center fw-bold fs-4" href="portal-landing.html">
                <i class="bi bi-bank2 me-2"></i>DỊCH VỤ CÔNG ĐÀ NẴNG
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#landingNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="landingNav">
                <ul class="navbar-nav ms-auto gap-3 mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link fw-medium text-white-50 hover-white"
                            href="portal-landing.html">Trang chủ</a></li>
                    <li class="nav-item"><a class="nav-link fw-medium text-white-50 hover-white"
                            href="portal-services.html">Dịch vụ công</a></li>
                    <li class="nav-item"><a class="nav-link fw-medium text-white-50 hover-white" href="#">Hướng dẫn</a>
                    </li>
                    <li class="nav-item"><a class="nav-link fw-medium text-white-50 hover-white"
                            href="portal-feedback.html">Phản ánh kiến nghị</a></li>
                </ul>
                <div class="ms-lg-4 d-flex gap-2">
                    <a href="portal-landing.html" class="btn btn-outline-light fw-bold shadow-sm px-3">
                        <i class="bi bi-person-circle me-2"></i>Đăng nhập
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="container mt-5 pt-5 mb-5">

        <div class="text-center mb-5">
            <h2 class="fw-bold text-primary">Tra cứu Tiến độ Hồ sơ</h2>
            <p class="text-muted">Nhập mã hồ sơ để theo dõi quá trình xử lý thời gian thực.</p>
        </div>

        <!-- 2. SEARCH BOX -->
        <div class="card card-modern shadow-md-soft border-0 mb-5 mx-auto" style="max-width: 700px;">
            <div class="card-body p-4">
                <form onsubmit="handleSearch(event)">
                    <div class="input-group input-group-lg">
                        <input type="text" class="form-control" id="code" placeholder="Nhập mã hồ sơ (VD: HS-001)"
                            required>
                        <button class="btn btn-primary fw-bold px-4" type="submit">
                            <i class="bi bi-search me-2"></i>Tra cứu
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- 3. RESULT AREA -->
        <div id="resultArea" class="animate-fade-in mx-auto" style="max-width: 800px;">

            <!-- DOSSIER INFO HEADER -->
            <div class="card card-modern border-0 shadow-sm-soft mb-4 border-top border-4 border-primary">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h5 class="fw-bold mb-1" id="dossierName">Đăng ký khai sinh</h5>
                            <span class="badge bg-primary mb-2" id="dossierCode">HS-001</span>
                            <div class="text-muted small">
                                <i class="bi bi-person me-1"></i>Người nộp: <span id="applicantName"
                                    class="fw-bold text-dark">Nguyễn Văn A</span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="text-muted small mb-1">Ngày nộp</div>
                            <div class="fw-bold" id="submissionDate">10/12/2025</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RESULT FILE (IF COMPLETED) -->
            <div id="finalResult" class="card card-modern border-0 shadow-sm-soft mb-4 bg-success-subtle">
                <div class="card-body p-4 d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center">
                        <div class="bg-white p-2 rounded-circle text-success me-3 shadow-sm">
                            <i class="bi bi-check-lg fs-4"></i>
                        </div>
                        <div>
                            <h6 class="fw-bold text-success mb-1">Hồ sơ đã hoàn thành</h6>
                            <p class="mb-0 small text-success-emphasis">Đã có kết quả giải quyết.</p>
                        </div>
                    </div>
                    <a href="#" class="btn btn-success fw-bold shadow-sm">
                        <i class="bi bi-download me-2"></i>Tải kết quả
                    </a>
                </div>
            </div>

            <!-- TIMELINE -->
            <div class="card card-modern border-0 shadow-sm-soft">
                <div class="card-header bg-white fw-bold py-3">
                    <i class="bi bi-clock-history me-2"></i>Lịch sử xử lý
                </div>
                <div class="card-body p-4 ps-5">
                    <div class="timeline" id="timelineContainer">
                        <!-- Step 1: Completed -->
                        <div class="timeline-item completed">
                            <div class="timeline-dot"></div>
                            <div class="row">
                                <div class="col-md-3 text-muted small pt-1">12/12/2025 15:30</div>
                                <div class="col-md-9">
                                    <h6 class="fw-bold mb-1 text-success">Trả kết quả</h6>
                                    <div class="small text-muted">Thực hiện: Hệ thống</div>
                                </div>
                            </div>
                        </div>
                        <!-- Step 2: Completed -->
                        <div class="timeline-item completed">
                            <div class="timeline-dot"></div>
                            <div class="row">
                                <div class="col-md-3 text-muted small pt-1">12/12/2025 14:00</div>
                                <div class="col-md-9">
                                    <h6 class="fw-bold mb-1 text-success">Lãnh đạo ký duyệt</h6>
                                    <div class="small text-muted">Thực hiện: Lãnh đạo UBND</div>
                                </div>
                            </div>
                        </div>
                        <!-- Step 3: Completed -->
                        <div class="timeline-item completed">
                            <div class="timeline-dot"></div>
                            <div class="row">
                                <div class="col-md-3 text-muted small pt-1">12/12/2025 10:00</div>
                                <div class="col-md-9">
                                    <h6 class="fw-bold mb-1 text-success">Chuyên viên xử lý</h6>
                                    <div class="small text-muted">Thực hiện: Nguyễn Văn B (Hộ tịch)</div>
                                </div>
                            </div>
                        </div>
                        <!-- Step 4: Completed -->
                        <div class="timeline-item completed">
                            <div class="timeline-dot"></div>
                            <div class="row">
                                <div class="col-md-3 text-muted small pt-1">12/12/2025 08:30</div>
                                <div class="col-md-9">
                                    <h6 class="fw-bold mb-1 text-success">Tiếp nhận hồ sơ</h6>
                                    <div class="small text-muted">Thực hiện: Bộ phận Tiếp nhận</div>
                                </div>
                            </div>
                        </div>
                        <!-- Step 5: Completed -->
                        <div class="timeline-item completed">
                            <div class="timeline-dot"></div>
                            <div class="row">
                                <div class="col-md-3 text-muted small pt-1">12/12/2025 08:00</div>
                                <div class="col-md-9">
                                    <h6 class="fw-bold mb-1 text-success">Công dân nộp hồ sơ</h6>
                                    <div class="small text-muted">Thực hiện: Nguyễn Văn A</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- NOT FOUND -->
        <div id="notFoundState" class="text-center py-5 d-none">
            <i class="bi bi-search text-muted opacity-25" style="font-size: 5rem;"></i>
            <h5 class="text-muted mt-3">Không tìm thấy hồ sơ!</h5>
            <p class="small text-muted">Vui lòng kiểm tra lại Mã hồ sơ.</p>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-footer-dark text-white py-5 mt-auto">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-5">
                    <h5 class="fw-bold mb-4 text-uppercase text-white-50 small ls-1">Đơn vị vận hành</h5>
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-building fs-1 me-3 opacity-50"></i>
                        <div>
                            <h6 class="fw-bold mb-1">TRUNG TÂM HÀNH CHÍNH CÔNG</h6>
                            <p class="mb-0 small opacity-75">Thành phố Đà Nẵng</p>
                        </div>
                    </div>
                    <p class="small opacity-50">Hệ thống cung cấp dịch vụ công trực tuyến mức độ 3, 4 phục vụ người dân
                        và doanh nghiệp.</p>
                </div>
                <div class="col-md-3 offset-md-1">
                    <h5 class="fw-bold mb-4 text-uppercase text-white-50 small ls-1">Liên kết</h5>
                    <ul class="list-unstyled small opacity-75 d-flex flex-column gap-2">
                        <li><a href="#" class="text-white text-decoration-none hover-white"><i
                                    class="bi bi-chevron-right me-2"></i>Cổng thông tin Tp.</a></li>
                        <li><a href="#" class="text-white text-decoration-none hover-white"><i
                                    class="bi bi-chevron-right me-2"></i>Sở TT & TT</a></li>
                        <li><a href="#" class="text-white text-decoration-none hover-white"><i
                                    class="bi bi-chevron-right me-2"></i>Văn bản quy phạm</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5 class="fw-bold mb-4 text-uppercase text-white-50 small ls-1">Liên hệ</h5>
                    <p class="small opacity-75 mb-1"><i class="bi bi-geo-alt me-2"></i>24 Trần Phú, Hải Châu</p>
                    <p class="small opacity-75 mb-1"><i class="bi bi-telephone me-2"></i>(0236) 1022</p>
                    <p class="small opacity-75"><i class="bi bi-envelope me-2"></i>contact@danang.gov.vn</p>
                </div>
            </div>
            <hr class="opacity-10 my-4">
            <div class="text-center small opacity-50">
                &copy; 2025 E-Gov Simulation System (Static Prototype Mode)
            </div>
        </div>
    </footer>

    <!-- JS Logic -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Static interactions only (e.g. tooltips)
        const params = new URLSearchParams(window.location.search);
        if (params.get('code')) {
            document.getElementById('code').value = params.get('code');
        }
    </script>
</body>

</html>