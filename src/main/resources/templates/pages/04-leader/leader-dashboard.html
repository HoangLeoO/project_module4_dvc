<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bàn làm việc Lãnh đạo - Hệ thống Một cửa</title>
    <!-- Core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../../../static/assets/css/style.css">
    <link rel="stylesheet" href="../../../static/assets/css/internal.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-light">

    <!-- WRAPPER -->
    <div class="d-flex" id="wrapper">

        <!-- SIDEBAR -->
        <div class="bg-white border-end"
            style="width: 260px; min-height: 100vh; position: fixed; top: 0; left: 0; z-index: 1000;">
            <div class="p-3 border-bottom d-flex align-items-center bg-danger text-white">
                <i class="bi bi-briefcase-fill fs-4 me-2"></i>
                <div class="fw-bold">LÃNH ĐẠO ĐƠN VỊ</div>
            </div>
            <div class="list-group list-group-flush p-2">
                <small class="text-uppercase fw-bold text-muted px-2 mt-3 mb-1" style="font-size: 0.75rem;">Điều
                    hành</small>
                <a href="leader-dashboard.html"
                    class="list-group-item list-group-item-action active rounded mb-1 border-0 fw-bold"><i
                        class="bi bi-speedometer2 me-2"></i>Tổng quan (Cockpit)</a>
                <a href="leader-approval.html" class="list-group-item list-group-item-action rounded mb-1 border-0"><i
                        class="bi bi-pen-fill me-2"></i>Duyệt & Ký số <span
                        class="badge bg-danger ms-auto">15</span></a>
                <a href="leader-reports.html" class="list-group-item list-group-item-action rounded mb-1 border-0"><i
                        class="bi bi-bar-chart-line-fill me-2"></i>Báo cáo số liệu</a>
                <a href="leader-delegation.html" class="list-group-item list-group-item-action rounded mb-1 border-0"><i
                        class="bi bi-person-fill-gear me-2"></i>Ủy quyền ký</a>

                <small class="text-uppercase fw-bold text-muted px-2 mt-3 mb-1" style="font-size: 0.75rem;">Hệ
                    thống</small>
                <a href="../06-shared/internal-login.html"
                    class="list-group-item list-group-item-action rounded mb-1 border-0 text-danger"><i
                        class="bi bi-box-arrow-left me-2"></i>Đăng xuất</a>
            </div>
        </div>

        <!-- MAIN CONTENT -->
        <div style="margin-left: 260px; width: calc(100% - 260px);" class="d-flex flex-column min-vh-100">

            <!-- HEADER -->
            <nav class="navbar navbar-expand bg-white border-bottom sticky-top px-4 shadow-sm">
                <div class="fw-bold text-danger">UBND Quận Hải Châu - Phòng Điều Hành</div>
                <div class="ms-auto d-flex align-items-center gap-3">
                    <!-- User Profile -->
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle"
                            data-bs-toggle="dropdown">
                            <span class="me-2 fw-bold">Chủ tịch UBND</span>
                            <img src="https://ui-avatars.com/api/?name=Chu+Tich&background=dc3545&color=fff"
                                class="rounded-circle" width="32">
                        </a>
                    </div>
                </div>
            </nav>

            <main class="flex-grow-1 p-4">

                <!-- ALERT SECTION -->
                <div class="alert alert-danger d-flex align-items-center shadow-sm animate-pulse" role="alert">
                    <i class="bi bi-exclamation-triangle-fill fs-4 me-3"></i>
                    <div>
                        <span class="fw-bold">CẢNH BÁO NÓNG:</span> Có 01 phản ánh mức độ "Rất không hài lòng" (1 sao)
                        chưa được xử lý quá 2 giờ.
                        <a href="#" class="alert-link ms-2">Xem chi tiết ngay</a>
                    </div>
                </div>

                <!-- KPI CARDS -->
                <div class="row g-3 mb-4">
                    <div class="col-md-3">
                        <div class="card bg-primary text-white border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0">Chờ ký duyệt</h5>
                                    <i class="bi bi-pen fs-3 opacity-50"></i>
                                </div>
                                <h2 class="fw-bold mb-0">15</h2>
                                <small class="opacity-75">Hồ sơ cần xử lý hôm nay</small>
                            </div>
                            <a href="leader-approval.html"
                                class="card-footer bg-primary border-top border-white border-opacity-25 text-white text-decoration-none small">
                                Xem danh sách <i class="bi bi-arrow-right ms-1"></i>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-success text-white border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0">Tỷ lệ đúng hạn</h5>
                                    <i class="bi bi-clock-history fs-3 opacity-50"></i>
                                </div>
                                <h2 class="fw-bold mb-0">98.5%</h2>
                                <small class="opacity-75">Tăng 0.5% so với tháng trước</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-info text-white border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0">Mức độ hài lòng</h5>
                                    <i class="bi bi-emoji-smile-fill fs-3 opacity-50"></i>
                                </div>
                                <h2 class="fw-bold mb-0">4.8/5</h2>
                                <small class="opacity-75">Dựa trên 1,200 lượt đánh giá</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-warning text-dark border-0 shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0">Tồn đọng quá hạn</h5>
                                    <i class="bi bi-hourglass-bottom fs-3 opacity-50"></i>
                                </div>
                                <h2 class="fw-bold mb-0">3</h2>
                                <small class="opacity-75">Hồ sơ trễ hạn > 24h</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CHARTS & LISTS -->
                <div class="row g-4">
                    <!-- PARETO CHART -->
                    <div class="col-lg-8">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white fw-bold py-3">
                                <i class="bi bi-graph-up-arrow me-2"></i>Phân tích Nguyên nhân chậm trễ (Pareto)
                            </div>
                            <div class="card-body">
                                <canvas id="paretoChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- STAFF RANKING -->
                    <div class="col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white fw-bold py-3">
                                <i class="bi bi-trophy-fill me-2 text-warning"></i>Xếp hạng Cán bộ
                            </div>
                            <div class="list-group list-group-flush">
                                <div class="list-group-item d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <span class="badge bg-warning rounded-pill me-2">#1</span>
                                        <img src="https://ui-avatars.com/api/?name=Le+Thi+A" class="rounded-circle me-2"
                                            width="30">
                                        <span>Lê Thị A</span>
                                    </div>
                                    <span class="fw-bold text-success">99%</span>
                                </div>
                                <div class="list-group-item d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <span class="badge bg-secondary rounded-pill me-2">#2</span>
                                        <img src="https://ui-avatars.com/api/?name=Tran+Van+B"
                                            class="rounded-circle me-2" width="30">
                                        <span>Trần Văn B</span>
                                    </div>
                                    <span class="fw-bold text-success">98%</span>
                                </div>
                            </div>
                            <div class="card-header bg-white fw-bold py-3 border-top mt-auto">
                                <i class="bi bi-exclamation-octagon-fill me-2 text-danger"></i>Cảnh báo hiệu suất
                            </div>
                            <div class="list-group list-group-flush">
                                <div
                                    class="list-group-item d-flex justify-content-between align-items-center bg-danger bg-opacity-10">
                                    <div class="d-flex align-items-center">
                                        <img src="https://ui-avatars.com/api/?name=Nguyen+Van+C"
                                            class="rounded-circle me-2" width="30">
                                        <span>Nguyễn Văn C</span>
                                    </div>
                                    <span class="fw-bold text-danger">Quy tắc 4H</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <!-- JS Logic -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Init Chart
        const ctx = document.getElementById('paretoChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Thiếu thành phần HS', 'Lỗi hệ thống', 'Phối hợp ngành chậm', 'Công dân chậm nộp phí', 'Khác'],
                datasets: [
                    {
                        label: 'Số lượng hồ sơ',
                        data: [45, 20, 15, 10, 5],
                        backgroundColor: '#0d6efd',
                        yAxisID: 'y',
                    },
                    {
                        label: 'Tích lũy %',
                        data: [47, 68, 84, 95, 100],
                        type: 'line',
                        borderColor: '#dc3545',
                        yAxisID: 'y1',
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        max: 100
                    }
                }
            }
        });
    </script>
</body>

</html>